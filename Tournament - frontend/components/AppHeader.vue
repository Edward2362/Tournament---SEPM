<template>
  <header>
    <nuxt-link :to="'/'">
      <svg
        width="312"
        height="85"
        viewBox="0 0 312 85"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M94.5399 72.0263C94.5399 73.9552 94.2599 75.7286 93.6999 77.3465C93.1399 78.9332 92.3304 80.3021 91.2731 81.4533C90.215 82.5733 88.9394 83.4445 87.446 84.0667C85.9838 84.6889 84.3348 85 82.4992 85C80.6946 85 79.0457 84.6889 77.5523 84.0667C76.0901 83.4445 74.8301 82.5733 73.7722 81.4533C72.7144 80.3021 71.89 78.9332 71.2988 77.3465C70.7076 75.7286 70.4121 73.9552 70.4121 72.0263C70.4121 70.0974 70.7076 68.3395 71.2988 66.7528C71.921 65.1661 72.761 63.8127 73.8189 62.6927C74.9078 61.5726 76.1834 60.7015 77.6457 60.0792C79.1391 59.457 80.7569 59.1459 82.4992 59.1459C84.2726 59.1459 85.8904 59.457 87.3527 60.0792C88.846 60.7015 90.1217 61.5726 91.1798 62.6927C92.237 63.8127 93.0618 65.1661 93.6532 66.7528C94.2437 68.3395 94.5399 70.0974 94.5399 72.0263ZM87.446 72.0263C87.446 69.8796 87.0105 68.1995 86.1393 66.9861C85.2993 65.7416 84.0859 65.1194 82.4992 65.1194C80.9124 65.1194 79.6835 65.7416 78.8124 66.9861C77.9412 68.1995 77.5057 69.8796 77.5057 72.0263C77.5057 74.173 77.9412 75.8842 78.8124 77.1598C79.6835 78.4043 80.9124 79.0265 82.4992 79.0265C84.0859 79.0265 85.2993 78.4043 86.1393 77.1598C87.0105 75.8842 87.446 74.173 87.446 72.0263ZM120.88 83.5067C119.698 83.8489 118.174 84.16 116.307 84.44C114.44 84.7512 112.48 84.9067 110.427 84.9067C108.342 84.9067 106.6 84.6267 105.2 84.0667C103.83 83.5067 102.742 82.7288 101.933 81.7333C101.124 80.7066 100.548 79.4932 100.207 78.0932C99.8637 76.6931 99.6932 75.1531 99.6932 73.473V59.7992H106.647V72.633C106.647 74.8731 106.942 76.4909 107.533 77.4865C108.124 78.482 109.229 78.9798 110.847 78.9798C111.344 78.9798 111.874 78.9643 112.434 78.9332C112.994 78.871 113.491 78.8087 113.927 78.7465V59.7992H120.88V83.5067ZM142.202 65.9594C141.579 65.8039 140.848 65.6483 140.008 65.4928C139.168 65.3061 138.265 65.2127 137.301 65.2127C136.865 65.2127 136.337 65.2594 135.715 65.3527C135.123 65.4149 134.672 65.4928 134.361 65.5861V84.3467H127.408V61.1059C128.652 60.6704 130.115 60.2659 131.795 59.8926C133.505 59.4881 135.403 59.2859 137.488 59.2859C137.861 59.2859 138.312 59.317 138.841 59.3792C139.37 59.4104 139.899 59.4726 140.428 59.5659C140.957 59.6281 141.485 59.7214 142.015 59.8459C142.544 59.9392 142.995 60.0637 143.368 60.2192L142.202 65.9594ZM147.095 60.6393C148.277 60.2971 149.802 59.9859 151.669 59.7059C153.536 59.3947 155.496 59.2392 157.549 59.2392C159.634 59.2392 161.361 59.5192 162.729 60.0792C164.129 60.6081 165.234 61.3704 166.043 62.366C166.851 63.3615 167.428 64.5439 167.769 65.9128C168.111 67.2817 168.283 68.8062 168.283 70.4862V84.3467H161.329V71.3263C161.329 69.0862 161.034 67.4995 160.443 66.5661C159.851 65.6328 158.747 65.1661 157.129 65.1661C156.631 65.1661 156.102 65.1972 155.542 65.2594C154.982 65.2906 154.484 65.3372 154.049 65.3994V84.3467H147.095V60.6393ZM183.957 79.4932C184.642 79.4932 185.295 79.4777 185.917 79.4465C186.54 79.4154 187.037 79.3687 187.41 79.3065V74.033C187.13 73.9708 186.71 73.9086 186.15 73.8464C185.59 73.7842 185.077 73.753 184.61 73.753C183.957 73.753 183.335 73.7997 182.744 73.893C182.184 73.9552 181.686 74.0952 181.25 74.313C180.815 74.5308 180.473 74.8264 180.224 75.1997C179.975 75.5731 179.85 76.0398 179.85 76.5998C179.85 77.6887 180.208 78.451 180.924 78.8865C181.67 79.291 182.682 79.4932 183.957 79.4932ZM183.397 59.1459C185.45 59.1459 187.162 59.3792 188.53 59.8459C189.9 60.3126 190.989 60.9815 191.797 61.8526C192.637 62.7238 193.229 63.7816 193.571 65.0261C193.913 66.2706 194.084 67.655 194.084 69.1795V83.6467C193.089 83.8645 191.704 84.1134 189.931 84.3934C188.157 84.7045 186.01 84.86 183.49 84.86C181.904 84.86 180.457 84.72 179.15 84.44C177.875 84.16 176.77 83.7089 175.837 83.0867C174.903 82.4333 174.188 81.5933 173.69 80.5666C173.193 79.5399 172.943 78.2798 172.943 76.7864C172.943 75.3553 173.223 74.1419 173.783 73.1463C174.375 72.1508 175.153 71.3574 176.117 70.7663C177.082 70.1751 178.186 69.7551 179.43 69.5062C180.675 69.2262 181.966 69.0862 183.304 69.0862C184.207 69.0862 185 69.1329 185.684 69.2262C186.4 69.2884 186.975 69.3817 187.41 69.5062V68.8529C187.41 67.6706 187.053 66.7217 186.337 66.0061C185.622 65.2906 184.377 64.9327 182.604 64.9327C181.422 64.9327 180.255 65.0261 179.104 65.2127C177.953 65.3683 176.957 65.6016 176.117 65.9128L175.23 60.3126C175.635 60.1881 176.133 60.0637 176.723 59.9392C177.346 59.7837 178.015 59.6592 178.73 59.5659C179.446 59.4414 180.193 59.3481 180.97 59.2859C181.78 59.1925 182.588 59.1459 183.397 59.1459ZM213.859 71.3263C213.859 69.0862 213.563 67.4995 212.972 66.5661C212.412 65.6328 211.432 65.1661 210.032 65.1661C209.597 65.1661 209.145 65.1972 208.679 65.2594C208.212 65.2906 207.761 65.3372 207.325 65.3994V84.3467H200.372V60.6393C200.963 60.4837 201.648 60.3281 202.425 60.1726C203.235 59.9859 204.075 59.8304 204.945 59.7059C205.848 59.5504 206.765 59.4414 207.699 59.3792C208.632 59.2859 209.55 59.2392 210.452 59.2392C212.225 59.2392 213.657 59.4726 214.745 59.9392C215.865 60.3748 216.784 60.9037 217.499 61.526C218.495 60.8104 219.63 60.2504 220.906 59.8459C222.212 59.4414 223.41 59.2392 224.499 59.2392C226.459 59.2392 228.062 59.5192 229.306 60.0792C230.582 60.6081 231.593 61.3704 232.339 62.366C233.086 63.3615 233.599 64.5439 233.879 65.9128C234.159 67.2817 234.299 68.8062 234.299 70.4862V84.3467H227.346V71.3263C227.346 69.0862 227.051 67.4995 226.459 66.5661C225.899 65.6328 224.919 65.1661 223.519 65.1661C223.146 65.1661 222.617 65.2594 221.932 65.4461C221.279 65.6328 220.735 65.8661 220.299 66.1461C220.517 66.8617 220.657 67.624 220.719 68.4328C220.782 69.2107 220.812 70.0507 220.812 70.9529V84.3467H213.859V71.3263ZM239.447 72.2596C239.447 70.0818 239.774 68.184 240.427 66.5661C241.112 64.9172 241.999 63.5482 243.087 62.4593C244.177 61.3704 245.421 60.5459 246.821 59.9859C248.252 59.4259 249.714 59.1459 251.208 59.1459C254.693 59.1459 257.446 60.2193 259.468 62.366C261.491 64.4816 262.501 67.6083 262.501 71.7463C262.501 72.1508 262.486 72.6018 262.455 73.0997C262.424 73.5663 262.393 73.9864 262.361 74.3597H246.587C246.744 75.7909 247.412 76.9265 248.594 77.7665C249.777 78.6065 251.364 79.0265 253.354 79.0265C254.631 79.0265 255.874 78.9177 257.088 78.6998C258.333 78.451 259.344 78.1554 260.121 77.8131L261.055 83.46C260.681 83.6467 260.184 83.8333 259.561 84.02C258.939 84.2067 258.239 84.3622 257.461 84.4867C256.714 84.6422 255.906 84.7667 255.034 84.86C254.164 84.9534 253.292 85 252.421 85C250.212 85 248.284 84.6734 246.634 84.02C245.017 83.3667 243.664 82.48 242.574 81.3599C241.517 80.2087 240.723 78.8554 240.194 77.2998C239.697 75.7442 239.447 74.0642 239.447 72.2596ZM255.781 69.5996C255.751 69.0084 255.641 68.4328 255.454 67.8728C255.299 67.3128 255.034 66.815 254.661 66.3795C254.319 65.9439 253.868 65.5861 253.308 65.3061C252.779 65.0261 252.11 64.8861 251.301 64.8861C250.524 64.8861 249.854 65.0261 249.294 65.3061C248.734 65.5549 248.268 65.8972 247.894 66.3328C247.521 66.7683 247.226 67.2817 247.008 67.8728C246.821 68.4328 246.681 69.0084 246.587 69.5996H255.781ZM267.867 60.6393C269.05 60.2971 270.574 59.9859 272.441 59.7059C274.307 59.3947 276.268 59.2392 278.321 59.2392C280.406 59.2392 282.132 59.5192 283.501 60.0792C284.901 60.6081 286.006 61.3704 286.815 62.366C287.624 63.3615 288.199 64.5439 288.541 65.9128C288.884 67.2817 289.055 68.8062 289.055 70.4862V84.3467H282.101V71.3263C282.101 69.0862 281.806 67.4995 281.214 66.5661C280.624 65.6328 279.519 65.1661 277.901 65.1661C277.404 65.1661 276.874 65.1972 276.314 65.2594C275.754 65.2906 275.257 65.3372 274.821 65.3994V84.3467H267.867V60.6393ZM295.116 53.6857L302.07 52.5657V59.7992H310.423V65.5861H302.07V74.2197C302.07 75.6819 302.318 76.8486 302.816 77.7198C303.345 78.591 304.387 79.0265 305.943 79.0265C306.69 79.0265 307.452 78.9643 308.23 78.8398C309.038 78.6843 309.77 78.482 310.423 78.2332L311.403 83.6467C310.563 83.9889 309.63 84.2845 308.603 84.5334C307.577 84.7822 306.316 84.9067 304.823 84.9067C302.925 84.9067 301.353 84.6578 300.11 84.16C298.865 83.6311 297.87 82.9155 297.123 82.0133C296.376 81.0799 295.847 79.9599 295.536 78.6532C295.256 77.3465 295.116 75.8998 295.116 74.313V53.6857Z"
          fill="#234C87"
        />
        <path
          d="M76.9864 9.82274C76.9864 7.15921 74.8272 5 72.1637 5H17.3798C14.7162 5 12.557 7.15921 12.557 9.82274H41.9718H44.8346H76.9864Z"
          fill="#234C87"
        />
        <path
          d="M44.8346 9.82274V58.0501C45.7997 58.0501 46.7433 58.0221 47.666 57.9672V12.6541C47.666 11.0904 46.3984 9.82274 44.8346 9.82274Z"
          fill="#234C87"
        />
        <path
          d="M44.8346 58.0501V9.82274H41.9718V57.9653C42.9045 58.0214 43.8586 58.0501 44.8346 58.0501Z"
          fill="#234C87"
        />
        <path
          d="M44.8346 80.387V58.0501C43.8586 58.0501 42.9045 58.0214 41.9718 57.9653V80.387H44.8346Z"
          fill="#234C87"
        />
        <path
          d="M44.8346 80.387C46.3984 80.387 47.666 79.1194 47.666 77.5557V57.9672C46.7433 58.0221 45.7997 58.0501 44.8346 58.0501V80.387Z"
          fill="#234C87"
        />
        <path
          d="M28.7273 80.387H41.9718M60.7532 80.387H44.8346M44.8346 9.82274V58.0501M44.8346 9.82274H76.9864M44.8346 9.82274H41.9718M44.8346 9.82274V9.82274C46.3984 9.82274 47.666 11.0904 47.666 12.6541V57.9672M44.8346 80.387V58.0501M44.8346 80.387H41.9718M44.8346 80.387V80.387C46.3984 80.387 47.666 79.1194 47.666 77.5557V57.9672M44.8346 58.0501C43.8586 58.0501 42.9045 58.0214 41.9718 57.9653M44.8346 58.0501C45.7997 58.0501 46.7433 58.0221 47.666 57.9672M12.557 9.82274V9.82274C7.83111 9.82274 3.9674 13.6686 4.65928 18.3436C7.05901 34.5585 16.5599 56.4365 41.9718 57.9653M12.557 9.82274V9.82274C12.557 7.15921 14.7162 5 17.3798 5H72.1637C74.8272 5 76.9864 7.15921 76.9864 9.82274V9.82274M12.557 9.82274H41.9718M76.9864 9.82274V9.82274C81.7818 9.82274 85.7028 13.7246 84.9916 18.467C82.561 34.6759 73.0372 56.4584 47.666 57.9672M41.9718 9.82274V57.9653M41.9718 80.387V57.9653"
          stroke="#234C87"
          stroke-width="9"
          stroke-linecap="round"
        /></svg
    ></nuxt-link>
    <div class="nav-bar">
      <div class="nav-holder">
        <div class="recent">Recent</div>
        <div class="create" @click="bluring">Create</div>
      </div>
      <div class="search-holder">
        <div class="header-search"><SearchBar /></div>
      </div>
    </div>
    <div class="user-avatar">
      <div class="user-avatar-holder" @click="toggleDropdown"><User /></div>
      <div class="dropdown-user" :class="{ disappear: !dropdownUser }">
        <div class="log-out" @click="logOut">Logout</div>
        <div class="horizontal-line"></div>
        <div class="change-password">Change password</div>
      </div>
    </div>
  </header>
</template>

<script>
import SearchBar from "../components/SearchBar.vue";
import User from "../components/User.vue";
import { mapMutations, mapGetters } from "vuex";
import axios from "axios";

export default {
  name: "AppHeader",
  data() {
    return {
      dropdownUser: false,
    };
  },
  components: { SearchBar, User },
  computed: {
    ...mapGetters({
      isOverlay: "document/isOverlay",
    }),
  },
  methods: {
    ...mapMutations({
      bluring: "document/setOverlay",
    }),
    toggleDropdown() {
      this.dropdownUser = !this.dropdownUser;
      console.log("dropdown");
    },
    logOut() {
      console.log("HEYhyhyh");
      axios
        .get("/api/v1/auth/logout")
        .then((response) => {
          sessionStorage.removeItem("vuex")
          this.$router.push({ name: 'authentication' });
        })
        .catch(console.log);
    },
  },
};
</script>

<style scoped>
@import "../assets/styles/header.css";
</style>
